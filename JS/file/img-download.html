<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 存在跨域不能直接下载 -->
  <a download="" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67e8f848e9e341efa3a488a7eba5073a~tplv-k3u1fbpfcp-zoom-crop-mark:1304:1304:1304:734.awebp">下载图片</a>

  <img src=""/>

  <script type="text/javascript">
    function download(url) {
      const xhr = new XMLHttpRequest()
      xhr.open('GET', url)
      xhr.responseType = 'blob'
      xhr.send()
      xhr.onload = function(e) {
        const fileBlob = xhr.response
        console.log(e, fileBlob)
        const fileUrl = URL.createObjectURL(fileBlob)
        console.log(fileUrl)
        // document.querySelector('img').setAttribute('src', fileUrl)
        const elementA = document.createElement('a')
        elementA.setAttribute('href', fileUrl)
        elementA.setAttribute('download', '中秋创意大赛')
        elementA.innerHTML = '下载'
        // elementA.click()
        document.body.appendChild(elementA)
      }
    }
    
    const url = 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67e8f848e9e341efa3a488a7eba5073a~tplv-k3u1fbpfcp-zoom-crop-mark:1304:1304:1304:734.awebp'
    download(url)
  </script>
</body>


</html>